/*
 Navicat Premium Data Transfer

 Source Server         : localhost-mysql
 Source Server Type    : MySQL
 Source Server Version : 80043
 Source Host           : localhost:3306
 Source Schema         : hm-pay

 Target Server Type    : MySQL
 Target Server Version : 80043
 File Encoding         : 65001

 Date: 21/09/2025 22:37:05
*/

SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ----------------------------
-- Table structure for pay_order
-- ----------------------------
DROP TABLE IF EXISTS `pay_order`;
CREATE TABLE `pay_order`  (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT 'id',
  `biz_order_no` bigint NOT NULL COMMENT '业务订单号',
  `pay_order_no` bigint NOT NULL DEFAULT 0 COMMENT '支付单号',
  `biz_user_id` bigint NOT NULL COMMENT '支付用户id',
  `pay_channel_code` varchar(30) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL DEFAULT '0' COMMENT '支付渠道编码',
  `amount` int NOT NULL COMMENT '支付金额，单位分',
  `pay_type` tinyint NOT NULL DEFAULT 5 COMMENT '支付类型，1：h5,2:小程序，3：公众号，4：扫码，5：余额支付',
  `status` tinyint NOT NULL DEFAULT 0 COMMENT '支付状态，0：待提交，1:待支付，2：支付超时或取消，3：支付成功',
  `expand_json` varchar(1024) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL DEFAULT '' COMMENT '拓展字段，用于传递不同渠道单独处理的字段',
  `result_code` varchar(20) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NULL DEFAULT '' COMMENT '第三方返回业务码',
  `result_msg` varchar(50) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NULL DEFAULT '' COMMENT '第三方返回提示信息',
  `pay_success_time` datetime NULL DEFAULT NULL COMMENT '支付成功时间',
  `pay_over_time` datetime NOT NULL COMMENT '支付超时时间',
  `qr_code_url` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NULL DEFAULT NULL COMMENT '支付二维码链接',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `creater` bigint NOT NULL DEFAULT 0 COMMENT '创建人',
  `updater` bigint NOT NULL DEFAULT 0 COMMENT '更新人',
  `is_delete` bit(1) NOT NULL DEFAULT b'0' COMMENT '逻辑删除',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `biz_order_no`(`biz_order_no` ASC) USING BTREE,
  UNIQUE INDEX `pay_order_no`(`pay_order_no` ASC) USING BTREE,
  INDEX `idx_payorder_user_create`(`id` ASC, `biz_user_id` ASC, `create_time` ASC, `status` ASC, `amount` ASC) USING BTREE,
  INDEX `idx_payorder_status_overtime`(`status` ASC, `pay_over_time` ASC, `biz_user_id` ASC) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 1969388039441051651 CHARACTER SET = utf8mb3 COLLATE = utf8mb3_general_ci COMMENT = '支付订单' ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of pay_order
-- ----------------------------
INSERT INTO `pay_order` VALUES (1658455441987891201, 1658453559437434882, 1658455441975308289, 1, 'balance', 55400, 5, 3, '', '', '', '2023-05-16 21:14:57', '2023-05-16 22:52:45', NULL, '2023-05-16 20:52:44', '2023-05-18 19:38:03', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1659160218174607363, 1659160216593354754, 1659160218174607362, 1, 'balance', 156000, 5, 3, '', '', '', '2023-05-18 19:34:48', '2023-05-18 21:33:16', NULL, '2023-05-18 19:33:16', '2023-05-18 19:37:54', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1960235037698293762, 1960235026961002497, 1960235037610213377, 1, 'balance', 544000, 5, 1, '', '', '', NULL, '2025-08-26 16:57:07', NULL, '2025-08-26 14:57:07', '2025-08-26 14:57:07', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1960238189692583938, 1960238184713953282, 1960238189692583937, 1, 'balance', 144600, 5, 1, '', '', '', NULL, '2025-08-26 17:09:39', NULL, '2025-08-26 15:09:38', '2025-08-26 15:09:38', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1960239008819183619, 1960239006768177154, 1960239008819183618, 1, 'balance', 144600, 5, 1, '', '', '', NULL, '2025-08-26 17:12:54', NULL, '2025-08-26 15:12:53', '2025-08-26 15:12:53', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1960240439798366210, 1960240433280409602, 1960240439785783298, 1, 'balance', 144600, 5, 1, '', '', '', NULL, '2025-08-26 17:18:35', NULL, '2025-08-26 15:18:35', '2025-08-26 15:18:35', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1960245197829406723, 1960245195199569922, 1960245197829406722, 1, 'balance', 144600, 5, 1, '', '', '', NULL, '2025-08-26 17:37:29', NULL, '2025-08-26 15:37:29', '2025-08-26 15:37:29', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1960246361136308225, 1960246354786213889, 1960246361098559489, 1, 'balance', 144600, 5, 1, '', '', '', NULL, '2025-08-26 17:42:07', NULL, '2025-08-26 15:42:06', '2025-08-26 15:42:06', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1963081596618166274, 1963081578909876225, 1963081596542668801, 1, 'balance', 144600, 5, 1, '', '', '', NULL, '2025-09-03 13:28:20', NULL, '2025-09-03 11:28:19', '2025-09-03 11:28:19', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1963081993114112002, 1963081990362710018, 1963081993114112001, 1, 'balance', 544000, 5, 1, '', '', '', NULL, '2025-09-03 13:29:54', NULL, '2025-09-03 11:29:54', '2025-09-03 11:29:54', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1963082662386618369, 1963082657953300482, 1963082662319509505, 1, 'balance', 9700, 5, 1, '', '', '', NULL, '2025-09-03 13:32:34', NULL, '2025-09-03 11:32:33', '2025-09-03 11:32:33', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1963083233210490882, 1963083227896340481, 1963083233197907970, 1, 'balance', 9700, 5, 1, '', '', '', NULL, '2025-09-03 13:34:50', NULL, '2025-09-03 11:34:49', '2025-09-03 11:34:49', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1963083840747036673, 1963083838729609218, 1963083840684122114, 1, 'balance', 544000, 5, 1, '', '', '', NULL, '2025-09-03 13:37:15', NULL, '2025-09-03 11:37:14', '2025-09-03 11:37:14', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1963085924401799169, 1963085921901993986, 1963085924376633346, 1, 'balance', 544000, 5, 1, '', '', '', NULL, '2025-09-03 13:45:31', NULL, '2025-09-03 11:45:31', '2025-09-03 11:45:31', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1963089072889569282, 1963089068863008770, 1963089072889569281, 1, 'balance', 544000, 5, 1, '', '', '', '2025-09-03 11:58:50', '2025-09-03 13:58:02', NULL, '2025-09-03 11:58:02', '2025-09-03 12:06:10', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1963096978510880770, 1963096974022946817, 1963096978447966209, 1, 'balance', 544000, 5, 3, '', '', '', '2025-09-03 12:33:50', '2025-09-03 14:29:27', NULL, '2025-09-03 12:29:26', '2025-09-03 12:33:49', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1963102321420836867, 1963102318568681473, 1963102321420836866, 1, 'balance', 544000, 5, 3, '', '', '', '2025-09-03 12:51:47', '2025-09-03 14:50:41', NULL, '2025-09-03 12:50:40', '2025-09-03 12:51:47', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1963104525724721154, 1963104522797068289, 1963104525724721153, 1, 'balance', 544000, 5, 3, '', '', '', '2025-09-03 12:59:30', '2025-09-03 14:59:26', NULL, '2025-09-03 12:59:26', '2025-09-03 12:59:29', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1963177980461621251, 1963177975889801217, 1963177980461621250, 1, 'balance', 544000, 5, 3, '', '', '', '2025-09-03 17:55:21', '2025-09-03 19:51:19', NULL, '2025-09-03 17:51:19', '2025-09-03 17:55:21', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1964328401100087297, 1964328395592957953, 1964328401087504386, 1, 'balance', 1088000, 5, 3, '', '', '', '2025-09-06 22:02:44', '2025-09-07 00:02:41', NULL, '2025-09-06 22:02:40', '2025-09-06 22:02:44', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1964341081730981889, 1964341074000871425, 1964341081684844545, 1, 'balance', 544000, 5, 3, '', '', '', '2025-09-06 22:53:06', '2025-09-07 00:53:04', NULL, '2025-09-06 22:53:04', '2025-09-06 22:53:05', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1964345253071253506, 1964345246389706754, 1964345253050281986, 1, 'balance', 639900, 5, 3, '', '', '', '2025-09-06 23:09:42', '2025-09-07 01:09:39', NULL, '2025-09-06 23:09:38', '2025-09-06 23:09:41', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1964352357479870467, 1964352351804850177, 1964352357479870466, 1, 'balance', 639900, 5, 3, '', '', '', '2025-09-06 23:38:35', '2025-09-07 01:37:53', NULL, '2025-09-06 23:37:52', '2025-09-06 23:38:35', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1964354686606196739, 1964354679576461313, 1964354686606196738, 1, 'balance', 735800, 5, 1, '', '', '', NULL, '2025-09-07 01:47:08', NULL, '2025-09-06 23:47:07', '2025-09-06 23:47:07', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1964357134775312387, 1964357127762378753, 1964357134775312386, 1, 'balance', 735800, 5, 1, '', '', '', NULL, '2025-09-07 01:56:52', NULL, '2025-09-06 23:56:51', '2025-09-06 23:56:51', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1964363436146647042, 1964363420292206593, 1964363436087926785, 1, 'balance', 735800, 5, 1, '', '', '', NULL, '2025-09-07 02:21:54', NULL, '2025-09-07 00:21:53', '2025-09-07 00:21:53', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1964365711162302466, 1964365706900819970, 1964365711099387906, 1, 'balance', 735800, 5, 1, '', '', '', NULL, '2025-09-07 02:30:56', NULL, '2025-09-07 00:30:56', '2025-09-07 00:30:56', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1964366629022818306, 1964366619740753921, 1964366629022818305, 1, 'balance', 735800, 5, 3, '', '', '', '2025-09-07 00:35:10', '2025-09-07 02:34:35', NULL, '2025-09-07 00:34:35', '2025-09-07 00:35:10', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1964588550398164994, 1964588546208161793, 1964588550398164993, 1, 'balance', 105600, 5, 3, '', '', '', '2025-09-07 15:16:28', '2025-09-07 17:16:25', NULL, '2025-09-07 15:16:25', '2025-09-07 15:16:27', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1964605991379582978, 1964605985868328961, 1964605991362805761, 1, 'balance', 12800, 5, 3, '', '', '', '2025-09-07 16:25:46', '2025-09-07 18:25:44', NULL, '2025-09-07 16:25:43', '2025-09-07 16:25:46', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1964969188146135042, 1964969184882946050, 1964969188146135041, 1, 'balance', 9700, 5, 3, '', '', '', '2025-09-08 16:29:01', '2025-09-08 18:28:56', NULL, '2025-09-08 16:28:56', '2025-09-08 16:29:01', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1964969501045407747, 1964969499212476417, 1964969501045407746, 1, 'balance', 9700, 5, 1, '', '', '', NULL, '2025-09-08 18:30:11', NULL, '2025-09-08 16:30:11', '2025-09-08 16:30:11', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1964985242473836547, 1964985240158580738, 1964985242473836546, 1, 'balance', 9700, 5, 3, '', '', '', '2025-09-08 17:32:47', '2025-09-08 19:32:44', NULL, '2025-09-08 17:32:44', '2025-09-08 17:32:46', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1964989617510395905, 1964989614704406529, 1964989617443287041, 1, 'balance', 9700, 5, 3, '', '', '', '2025-09-08 17:50:10', '2025-09-08 19:50:07', NULL, '2025-09-08 17:50:07', '2025-09-08 17:50:10', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1964990378608799747, 1964990375546957825, 1964990378608799746, 1, 'balance', 9700, 5, 1, '', '', '', NULL, '2025-09-08 19:53:09', NULL, '2025-09-08 17:53:08', '2025-09-08 17:53:08', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1964990833304907779, 1964990830951903234, 1964990833304907778, 1, 'balance', 9700, 5, 1, '', '', '', NULL, '2025-09-08 19:54:57', NULL, '2025-09-08 17:54:57', '2025-09-08 17:54:57', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1964991243348455427, 1964991241603624961, 1964991243348455426, 1, 'balance', 9700, 5, 3, '', '', '', '2025-09-08 17:57:04', '2025-09-08 19:56:35', NULL, '2025-09-08 17:56:34', '2025-09-08 17:57:03', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1964991538564542467, 1964991536563859458, 1964991538564542466, 1, 'balance', 9700, 5, 3, '', '', '', '2025-09-08 17:59:21', '2025-09-08 19:57:45', NULL, '2025-09-08 17:57:45', '2025-09-08 17:59:21', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1964992034587127810, 1964992033186230274, 1964992034587127809, 1, 'balance', 9700, 5, 3, '', '', '', '2025-09-08 17:59:46', '2025-09-08 19:59:43', NULL, '2025-09-08 17:59:43', '2025-09-08 17:59:45', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1964992247930400770, 1964992246433034242, 1964992247930400769, 1, 'balance', 9700, 5, 1, '', '', '', NULL, '2025-09-08 20:00:34', NULL, '2025-09-08 18:00:34', '2025-09-08 18:00:34', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1964993022635126786, 1964993021137760257, 1964993022635126785, 1, 'balance', 9700, 5, 1, '', '', '', NULL, '2025-09-08 20:03:39', NULL, '2025-09-08 18:03:39', '2025-09-08 18:03:39', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1964994261699637250, 1964994260168716290, 1964994261699637249, 1, 'balance', 9700, 5, 1, '', '', '', NULL, '2025-09-08 20:08:34', NULL, '2025-09-08 18:08:34', '2025-09-08 18:08:34', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1964994866774126594, 1964994864391761922, 1964994866774126593, 1, 'balance', 9700, 5, 1, '', '', '', NULL, '2025-09-08 20:10:59', NULL, '2025-09-08 18:10:58', '2025-09-08 18:10:58', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1964995343070900225, 1964995340470431746, 1964995343020568578, 1, 'balance', 9700, 5, 1, '', '', '', NULL, '2025-09-08 20:12:52', NULL, '2025-09-08 18:12:52', '2025-09-08 18:12:52', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1968229967486013442, 1968229958292185089, 1968229967486013441, 1, 'balance', 63500, 5, 3, '', '', '', '2025-09-17 16:26:10', '2025-09-17 18:26:07', NULL, '2025-09-17 16:26:06', '2025-09-17 16:26:10', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1969376268365950977, 1969376255380381697, 1969376268303036417, 1, 'balance', 13400, 5, 3, '', '', '', '2025-09-20 20:21:36', '2025-09-20 22:21:06', NULL, '2025-09-20 20:21:06', '2025-09-20 20:21:36', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1969387424241512450, 1969387420424691713, 1969387424174403585, 1, 'balance', 462900, 5, 3, '', '', '', '2025-09-20 21:05:29', '2025-09-20 23:05:26', NULL, '2025-09-20 21:05:26', '2025-09-20 21:05:28', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1969387672309428226, 1969387669885116417, 1969387672309428225, 1, 'balance', 95900, 5, 3, '', '', '', '2025-09-20 21:06:28', '2025-09-20 23:06:25', NULL, '2025-09-20 21:06:25', '2025-09-20 21:06:27', 0, 0, b'0');
INSERT INTO `pay_order` VALUES (1969388039441051650, 1969388037218066434, 1969388039441051649, 1, 'balance', 9700, 5, 3, '', '', '', '2025-09-20 21:07:55', '2025-09-20 23:07:53', NULL, '2025-09-20 21:07:52', '2025-09-20 21:07:55', 0, 0, b'0');

-- ----------------------------
-- Table structure for undo_log
-- ----------------------------
DROP TABLE IF EXISTS `undo_log`;
CREATE TABLE `undo_log`  (
  `branch_id` bigint NOT NULL COMMENT 'branch transaction id',
  `xid` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'global transaction id',
  `context` varchar(128) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL COMMENT 'undo_log context,such as serialization',
  `rollback_info` longblob NOT NULL COMMENT 'rollback info',
  `log_status` int NOT NULL COMMENT '0:normal status,1:defense status',
  `log_created` datetime(6) NOT NULL COMMENT 'create datetime',
  `log_modified` datetime(6) NOT NULL COMMENT 'modify datetime',
  UNIQUE INDEX `ux_undo_log`(`xid` ASC, `branch_id` ASC) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_0900_ai_ci COMMENT = 'AT transaction mode undo table' ROW_FORMAT = Dynamic;

-- ----------------------------
-- Records of undo_log
-- ----------------------------

SET FOREIGN_KEY_CHECKS = 1;
